# Parameter file for test case 1pncmin.
# Everything behind a '#' is a comment.
# Type "./test_1pncmin --help" for more information.

[TimeManager]
DtInitial = 1                      # [s] initial time step size
MaxTimeStepSize = 50               # [s] maximum time step size
TEnd= 5000                        # [s] duration of the simulation
FreqOutput          = 10           # frequency of VTK output
WriteRestartFile    = 1            # Boolean. Should restart files be written? (1) Yes (0) No

[Grid]
UpperRight = 0.08 0.01 #20 10 #     # [m] upper right corner coordinates
Cells =  40 2 # 21 6                # [-] number of cells in x,y-direction

[FluidSystem]
NTemperature = 10                   # [-] number of tabularization entries
NPressure = 100                     # [-] number of tabularization entries
PressureLow = 1E5                   # [Pa]low end for tabularization of fluid properties
PressureHigh = 1E6                  # [Pa]high end for tabularization of fluid properties
TemperatureLow = 373.15             # [Pa]low end for tabularization of fluid properties
TemperatureHigh = 873.15            # [Pa]high end for tabularization of fluid properties

[Problem]
Name = thermochem
IsCharge = 1                       # Bool: 1: charge; 0: discharge

[Charge]
PressureInitial = 1E5              # [Pa] Initial reservoir pressure
TemperatureInitial = 773.15        # [K]  reservoir temperature
VaporInitial = 0.01                # [-]  initial mole fraction of water
CaOInitial = 0.0                   # [-]  molefraction in the solid phase;  0 dehydration/charge, 1  hydration/discharge
CaO2H2Initial = 0.3960             # [-]  molefraction in the solid phase;  0 dehydration/charge, 1  hydration/discharge
PressureIn = 1.02e5                # [Pa] Inlet pressure; charge
PressureOut = 1e5                  # [Pa] outlet pressure
TemperatureIn = 773.15             # [K] inlet temperature: // Shao 500 Â°C
TemperatureOut = 673.15            # [K] outlet temperature: // Shao noflow
InFlow = 5                         # [mol/s] Inflow of HTF // Shao 0.309 g/s (Area (0.015)^2pi m^2) --> here 1.55 mol/s
VaporIn = 0.01                     # [] molefraction // Shao 0.01 [g/g]

[Discharge]
PressureInitial = 1E5              # [Pa] Initial reservoir pressure
TemperatureInitial = 573.15        # [K]  reservoir temperature
VaporInitial = 0.35                # [-]  initial mole fraction of water
CaOInitial = 0.2                   # [-]  molefraction in the solid phase;  0 dehydration/charge, 1  hydration/discharge
CaO2H2Initial = 0.0
PressureIn = 1.05e5                # [Pa] Inlet pressure; charge
PressureOut = 1e5                  # [Pa] outlet pressure
TemperatureIn = 573.15             # [K] inlet temperature: charge: 873 K ; discharge: 473K
TemperatureOut = 573.15            # [K] outlet temperature: charge:  573; discharge: outflow
InFlow = 5                         # 0.277[mol/s] Inflow of HTF
VaporIn = 0.36                     # [] molefraction

[Vtk]
AddVelocity         = 0            # Add extra information
VtuWritingFreq      = 1            # 1: write a vtu file at every timestep, 2: write a vtu file every second timestep ...

[LinearSolver]
ResidualReduction = 1e-6

[Newton]
MaxRelativeShift = 1e-6
2WriteConvergence = 1

[Output]
#Frequency of restart file, flux and VTK output
FreqRestart = 1000                 # how often restart files are written out
FreqOutput = 50                    # frequency of VTK output
FreqMassOutput = 2                 # frequency of mass and evaporation rate output (Darcy)
FreqFluxOutput = 1000              # frequency of detailed flux output
FreqVaporFluxOutput = 2            # frequency of summarized flux output
