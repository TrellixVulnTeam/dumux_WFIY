[TimeLoop]
DtInitial = 0.01 # [s]
TEnd = 1.0 # [s]

[Grid]
LowerLeft = 0 0
UpperRight = 6.28 6.28
Cells = 20 20

[Problem]
Name = test_ff_sincos
EnableGravity = false
PrintL2Error = true
EnableInertiaTerms = true
IsStationary = false

[Component]
LiquidDensity = 1.0
LiquidKinematicViscosity = 0.1

[Assembly]
NumericDifference.BaseEpsilon = 1e-8

[Newton]
MaxSteps = 10
TargetSteps = 4
MaxRelativeShift = 1e-5
SatisfyResidualAndShiftCriterion = true
EnableAbsoluteResidualCriterion = true
MaxAbsoluteResidual = 1e-10

[Vtk]
WriteFaceData = false
AddProcessRank = false

[Flux]
UpwindWeight = 0.5

[LinearSolver]
Type = restartedflexiblegmressolver
Verbosity = 2
GMResRestart = 50
ResidualReduction = 1e-5

[LinearSolver.Preconditioner]
Type = simple
Verbosity = 2
Iterations = 1
Relaxation = 1.0
SimpleSolverVerbosity = 0
SimpleSolverResidualReduction = 1e-1
InvertSchurComplementA = false
# SimpleSolverType = bicgstabsolver
SimpleSolverType = restartedgmressolver
# SimpleSolverType = cgsolver
UsePreconditionerForSchurComplement = true
SimpleSolverPreconditionerReduction = 1e-1
# SimpleSolverPreconditionerMaxIterations = 50
AmgSmootherIterations = 1
UseDiagonalInSchurComplement = true
#
